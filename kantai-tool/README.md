# 艦隊管理ツール (Kantai Tool)

このプロジェクトは「艦隊これくしょん -艦これ-」の艦隊編成を管理するためのフロントエンドアプリケーションです。
バックエンドの kanmusu-server と連携して動作します。

## 主な機能

*   **艦隊編成シミュレーション**:
    *   通常艦隊 (6隻)、遊撃部隊 (7隻)、連合艦隊 (主力6隻 + 随伴6隻) に対応。
    *   ドラッグ＆ドロップによる直感的な艦娘の配置・入替。
    *   艦隊の追加、削除、名前の変更。
*   **編成セット管理**:
    *   複数の編成パターンを「編成セット」として名前を付けて保存・管理。
    *   イベント攻略用、通常海域用など、用途に応じた編成の切り替えが容易。
*   **データ管理**:
    *   所持艦娘データ (`api_ship`) の登録・更新。
    *   ゲームのマスターデータ (`api_start2`) の登録・更新。
*   **特効グループ作成**:
    *   イベント海域などで使用する特効艦をグループとして管理。
    *   テキストと対象艦娘を紐づけて保存し、編成画面でハイライト表示。
*   **カスタマイズ**:
    *   艦娘一覧のフィルタリングに使用する「艦種カテゴリー」を自由に編集可能。

## セットアップ

### 1. バックエンドの起動

まず、バックエンドサーバーを起動する必要があります。
詳細は `kanmusu-server` のREADMEを参照してください。

```bash
# kantai-manager/kanmusu-server/ ディレクトリで実行
npm install
node server.js
```

### 2. フロントエンドの起動

次に、このフロントエンドアプリケーションを起動します。

```bash
# kantai-manager/kantai-tool/ ディレクトリで実行
npm install
npm start
```

ブラウザで `http://localhost:3000` が開きます。

### 3. (任意) フォールバック用マスターデータの配置

本アプリケーションは、マスターデータをバックエンドサーバーから取得します。
サーバーにデータがない場合や、オフラインで利用したい場合のために、`public` ディレクトリにフォールバック用のファイルを配置できます。

*   `public/default_master_data.json`: 艦娘や艦種のマスターデータ。
*   `public/default_stype_config.json`: 艦種フィルターのデフォルト設定。

これらのファイルはGit管理下にありません。必要に応じて配置してください。

## 基本的な使い方

1.  **ログイン**:
    任意のユーザー名を入力してログインします。初回ログイン時にユーザーが自動的に作成されます。

2.  **データ登録 (初回)**:
    *   **所持艦娘の登録**: `[📄 艦娘登録]` 画面を開き、ゲームから取得した所持艦娘データ（`api_ship` を含むJSON）を貼り付けて保存します。
    *   **マスターデータの登録**: `[⚙️ マスタ設定]` 画面を開き、ゲームの通信データ `api_start2` のレスポンスボディ全体を貼り付けて更新します。これにより、艦娘名や艦種が正しく表示されるようになります。

3.  **艦隊編成**:
    *   `[⚓ 艦隊編成]` または `[📋 編成一覧]` 画面で操作します。
    *   **編成セット**: 画面上部の「編成セット」エリアで、セットの選択、上書き保存、新規保存ができます。
    *   **艦隊タイプ**: 各艦隊のドロップダウンリストから「通常艦隊」「連合艦隊」「遊撃部隊」を切り替えます。
    *   **艦娘の配置**: 画面下部の艦娘一覧から、艦隊スロットへ艦娘をドラッグ＆ドロップして編成します。

4.  **特効グループ作成**:
    *   `[⚡ 特効作成]` 画面を開きます。
    *   「＋ 追加」ボタンで新しい特効グループを作成し、特効内容（例: `E-1 ボス x1.5`）を入力します。
    *   左側のマスター艦娘一覧から、対象となる艦娘を右側のグループエリアにドラッグ＆ドロップで追加します。
    *   「☁️ 保存」ボタンでサーバーに保存すると、編成画面の艦娘に特効情報が表示されるようになります。

## 利用可能なスクリプト

プロジェクトディレクトリ内で以下のコマンドを実行できます:

### `npm start`

開発モードでアプリを起動します。\
ブラウザで http://localhost:3000 を開いて確認してください。

編集するとページがリロードされます。\
コンソールにはLintエラーも表示されます。

### `npm run build`

本番環境用にアプリをビルドし、`build` フォルダに出力します。\
Reactを本番モードでバンドルし、パフォーマンスのために最適化します。

---

*このプロジェクトは Create React App をベースにしています。*
